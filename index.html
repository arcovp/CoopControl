<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hen Haven</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Shadows+Into+Light&family=Sofia&display=swap" rel="stylesheet">
    <style>    
    body {
        background-color: #92c4ac;
        font-family: "sofia", static;
        font-size: large;
        background-image: url('floralcoop.jpg');
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center;
    }
    .card {
        background-color: #eee9ec;
        border-radius: 15px;
    }
    .card-header {
        background-color: #b8f7aa;
        color: white;
        font-weight: bold;
        border-bottom: none;
        border-radius: 0;
    }
    .form-control {
        background-color: #d7d3d3;
        border: none;
        border-radius: 5px;
    }
    .btn-primary {
        background-color: #Faa7d7;
        border: none;
        border-radius: 5px;
    }
    #btnRegister:hover {
        background-color: #f76ca6;
        color: #fff
    }
    #btnRegister {
        background-color: #faa7d7;
        color: #fff
    }  
      /*labels with a class = required will have red * at then end so users know info is required */
      .required:after {
    content:" *";
    color: red;
    }

    </style>
<body class = "text-white">
    <div class="col-12 d-flex justify-content-center align-items-center ">
        <div class="col-11 col-md-7 col-lg-7 card" id="divCustomer">
            <div class="card-header">
            <h2 style="font-size: 3rem;" id="lblRegistration" aria-label="Registration Header">Sign Up To Join The Haven Family!</h2>
        </div>
        <div class="card-body">
            <form id="frmRegistration" aria-label="Registration Form">
                <div class="form-group">
                    <!-- email info for registration -->
                    <label class="required" for="txtEmail" aria-label="Email Label">Email</label>
                    <input id="txtEmail" type="email" class="form-control" required aria-label="Email Input">
                    <!-- Password info for registration -->
                    <label class="required" for="txtRegisterPassword" aria-label="Password Label">Password</label>
                    <input id="txtRegisterPassword" type="password" class="form-control" required aria-label="Password Input">
                    <!-- FirstName info for registration -->
                    <label class="required" for="txtFirstName" aria-label="First Name Label">First Name</label>
                    <input id="txtFirstName" type="text" class="form-control" required aria-label="First Name Input">
                    <!-- LastName info for registration -->
                    <label class="required" for="txtLastName" aria-label="Last Name Label">Last Name</label>
                    <input id="txtLastName" type="text" class="form-control" required aria-label="Last Name Input">   
                    <!-- One street address info for registration -->
                    <label class="required" for="txtStreetAddress1">Street Address 1</label>
                    <input id="txtStreetAddress1" type="text" class="form-control">
                    <label for="txtStreetAddress2">Street Address 2 (optional)</label>
                    <input id="txtStreetAddress2" type="text" class="form-control">
                    <!-- Can assume no one will want chicken coops in apt so leave out apt number option -->
                </div>                    
                <div class="form-group">
                    <label class="required" for="txtCity">City</label>
                    <input id="txtCity" type="text" class="form-control" required>
                    <label class="required" for="txtCity">State</label>
                    <select class="form-control mt-1" id="txtState" aria-label="state" placeholder="State">
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="DC">District Of Columbia</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                    </select>
                    <!-- Zip info for registration -->
                    <label class ="required" for="txtZipCode">Zip Code</label>
                    <input id="txtZipCode" type="number" placeholder="12345" class="form-control" required>
                    <!-- Phone num info for registration -->
                    <label class="required" for="txtPhoneNumber">Phone Number</label>
                    <input id="txtPhoneNumber" type="text" placeholder="(123) 456-7890" class="form-control" required>
                    <!-- coopID info for registration -->
                    <label class="required" id="txtCoopID">Coop ID</label>
                    <input id="txtCoopID" type="text" class="form-control mb-2" required>
                    <button id="btnRegister" class="btn btn-primary col-12 mt-3" type="button">Register</button>
                </div>
            </form>
        </body>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"> </script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script>
$('#btnRegister').on('click', function (){

    const regEmail = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/
    const regPassword = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/

    let strEmail = $('#txtEmail').val();
    let strRegisterPassword = $('#txtRegisterPassword').val();
    let strFirstName = $('#txtFirstName').val();
    let strLastName = $('#txtLastName').val();
    let strStreetAddress1 = $('#txtStreetAddress1').val();
    let strStreetAddress2 = $('#txtStreetAddress2').val();
    let strCity = $('#txtCity').val();
    let strState = $('#txtState').val();
    let strZipCode = $('#txtZipCode').val();
    let strPhoneNumber = $('#txtPhoneNumber').val();
    let strCoopRegistrationID = $('#txtCoopID').val();

    let blnError = false;
    let strErrorMessage = '';

    if (strEmail =='') {
        blnError = true;
        strErrorMessage += "<h2>Email can't be blank.</h2>";
    }
    if (strRegisterPassword == '') {
        blnError = true;
        strErrorMessage += "<h2>Password can't be blank.</h2>";
    }
    if (strFirstName == '') {
        blnError = true;
        strErrorMessage += "<h2>First Name can't be blank.</h2>";
    }
    if (strLastName == '') {
        blnError = true;
        strErrorMessage += "<h2>Last Name can't be blank.</25>";
    }
    if (strStreetAddress1 == '') {
        blnError = true;
        strErrorMessage += "<h2>Street Address can't be blank.</h2>";
    }
    if (strCity == '') {
        blnError = true;
        strErrorMessage += "<h2>City can't be blank.</h2>";
    }
    if (strState == '') {
        blnError = true;
        strErrorMessage += "<h2>State can't be blank.</h2>";
    }
    if (strZipCode == '') {
        blnError = true;
        strErrorMessage += "<h2>Zip Code can't be blank.</h2>";
    }
    if (strPhoneNumber == '') {
        blnError = true;
        strErrorMessage += "<h2>Phone Number can't be blank.</h2>";
    }
    if (strCoopRegistrationID == '') {
        blnError = true;
        strErrorMessage += "<h2>Registration ID can't be blank.</h2>";
    }
    if (blnError == true) {
        Swal.fire({
            icon: 'error',
            title: 'Empty Fields',
            html: strErrorMessage,
        })};

    if (blnError == false ){ 
    $.post('https://simplecoop.swollenhippo.com/users.php',{Email:'Aepayne42@gmail.com', Passwod:'Aepayne42', FirstName:'Ashley',LastName:'Payne',coopID:'J2UQVALQ'},function(Outcome){
        results = JSON.parse(Outcome)
        if(results.Outcome = 'New User Created'){
            $.post('https://simplecoop.swollenhippo.com/useraddress.php',{Email:'Aepayne42@gmail.com',Street1:'2475 Dodson Branch Road',City:'Cookeville',State:'TN',ZIP:'38501'},function(Outcome){
                results = JSON.parse(Outcome)
                    if(results.Outcome == "Address Added"){
                    swal.fire("Profile created!")
                } else {
                    swal.fire("Profile not created")
                }
            })
            } else {
                swal.fire("Profile not created")
            }
        }) 
    }
})
    





</script>
</html>